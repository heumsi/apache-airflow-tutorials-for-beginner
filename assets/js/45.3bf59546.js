(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{410:function(a,s,t){a.exports=t.p+"assets/img/airflow_meta_db_erd.976f9584.png"},610:function(a,s,t){"use strict";t.r(s);var r=t(35),e=Object(r.a)({},(function(){var a=this,s=a.$createElement,r=a._self._c||s;return r("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[r("h1",{attrs:{id:"meta-database"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#meta-database"}},[a._v("#")]),a._v(" Meta Database")]),a._v(" "),r("h2",{attrs:{id:"개념"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#개념"}},[a._v("#")]),a._v(" 개념")]),a._v(" "),r("p",[a._v("Meta Database는 Airflow의 DAG, DAG Run, Task Instance, Variables, Connections 등 여러 컴포넌트에서 사용해야하는 데이터를 저장합니다.\nWebserver, Scheduler, Worker 모두 Meta Database와 통신하기 때문에 Meta Database는 Scheduler와 더불어 매우 중요한 컴포넌트입니다.")]),a._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),r("p",[a._v("Meta Database는 "),r("code",[a._v("airflow db init")]),a._v(" 명령어로 초기화되며, 다른 컴포넌트가 실행되기 전에 이 커맨드가 먼저 선행되어야 합니다.")])]),a._v(" "),r("p",[a._v("Meta Database가 실제로 어떤 테이블들을 가지고 있는지 살짝 살펴보겠습니다.")]),a._v(" "),r("div",{staticClass:"language-bash line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[a._v("$ "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("dt\n                    List of relations\n Schema "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("             Name              "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" Type  "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("  Owner\n--------+-------------------------------+-------+---------\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" ab_permission                 "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" ab_permission_view            "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" ab_permission_view_role       "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" ab_register_user              "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" ab_role                       "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" ab_user                       "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" ab_user_role                  "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" ab_view_menu                  "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" alembic_version               "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" connection                    "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" dag                           "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" dag_code                      "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" dag_pickle                    "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" dag_run                       "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" dag_tag                       "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" import_error                  "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" job                           "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" log                           "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" rendered_task_instance_fields "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" sensor_instance               "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" serialized_dag                "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" sla_miss                      "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" slot_pool                     "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" task_fail                     "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" task_instance                 "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" task_reschedule               "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" trigger                       "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" variable                      "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n public "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" xcom                          "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" table "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" airflow\n")])]),a._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[a._v("1")]),r("br"),r("span",{staticClass:"line-number"},[a._v("2")]),r("br"),r("span",{staticClass:"line-number"},[a._v("3")]),r("br"),r("span",{staticClass:"line-number"},[a._v("4")]),r("br"),r("span",{staticClass:"line-number"},[a._v("5")]),r("br"),r("span",{staticClass:"line-number"},[a._v("6")]),r("br"),r("span",{staticClass:"line-number"},[a._v("7")]),r("br"),r("span",{staticClass:"line-number"},[a._v("8")]),r("br"),r("span",{staticClass:"line-number"},[a._v("9")]),r("br"),r("span",{staticClass:"line-number"},[a._v("10")]),r("br"),r("span",{staticClass:"line-number"},[a._v("11")]),r("br"),r("span",{staticClass:"line-number"},[a._v("12")]),r("br"),r("span",{staticClass:"line-number"},[a._v("13")]),r("br"),r("span",{staticClass:"line-number"},[a._v("14")]),r("br"),r("span",{staticClass:"line-number"},[a._v("15")]),r("br"),r("span",{staticClass:"line-number"},[a._v("16")]),r("br"),r("span",{staticClass:"line-number"},[a._v("17")]),r("br"),r("span",{staticClass:"line-number"},[a._v("18")]),r("br"),r("span",{staticClass:"line-number"},[a._v("19")]),r("br"),r("span",{staticClass:"line-number"},[a._v("20")]),r("br"),r("span",{staticClass:"line-number"},[a._v("21")]),r("br"),r("span",{staticClass:"line-number"},[a._v("22")]),r("br"),r("span",{staticClass:"line-number"},[a._v("23")]),r("br"),r("span",{staticClass:"line-number"},[a._v("24")]),r("br"),r("span",{staticClass:"line-number"},[a._v("25")]),r("br"),r("span",{staticClass:"line-number"},[a._v("26")]),r("br"),r("span",{staticClass:"line-number"},[a._v("27")]),r("br"),r("span",{staticClass:"line-number"},[a._v("28")]),r("br"),r("span",{staticClass:"line-number"},[a._v("29")]),r("br"),r("span",{staticClass:"line-number"},[a._v("30")]),r("br"),r("span",{staticClass:"line-number"},[a._v("31")]),r("br"),r("span",{staticClass:"line-number"},[a._v("32")]),r("br"),r("span",{staticClass:"line-number"},[a._v("33")]),r("br")])]),r("p",[a._v("ERD는 다음과 같습니다.")]),a._v(" "),r("p",[r("img",{attrs:{src:t(410),alt:""}})]),a._v(" "),r("h2",{attrs:{id:"설정"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#설정"}},[a._v("#")]),a._v(" 설정")]),a._v(" "),r("p",[a._v("Meta Database와 관련하여 다음과 같은 설정 값들이 있습니다.")]),a._v(" "),r("h3",{attrs:{id:"sql-alchemy-pool-size"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#sql-alchemy-pool-size"}},[a._v("#")]),a._v(" "),r("code",[a._v("sql_alchemy_pool_size")])]),a._v(" "),r("p",[a._v("Database Connection Pool의 최대 크기입니다. Connection Pool에 최대 이 개수만큼의 Connection이 생길 수 있습니다. 기본 값은 5개입니다.")]),a._v(" "),r("p",[a._v("이 값이 너무 작으면, Airflow 전체적으로 Meta Database와의 I/O에 병목이 생길 수 있습니다.")])])}),[],!1,null,null,null);s.default=e.exports}}]);