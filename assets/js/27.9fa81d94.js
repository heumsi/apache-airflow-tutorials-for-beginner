(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{527:function(s,t){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjwAAACxCAYAAADAvme1AAAS1ElEQVR4Xu3dCZBTVdrG8SCIghuIC4iAuDG4IrhQhVo6OGq5lKX1FRSfI6Is6nyu5QaIsikyqIhsjoKsioi46yA7KOqwfijgiAIijYgKDb0k3Y3oO/0c5ibhikPP3DSdOfm/Vb9Ck9zk3uRUnYf3nITY9u3bDQAAwGex8A0AAAC+IfAAAADvEXgAAID3CDwAAMB7BB4AAOA9Ag8AAPAegQcAAHiPwAMAALxH4AEAAN4j8AAAAO8ReAAAgPcIPAAAwHsEHgAA4D0CDwAA8B6BBwAAeI/AAwAAvEfgAQAA3iPwAAAA7xF4AACA9wg8AADAewQeAADgPQIPAADwHoEHAAB4j8ADAAC8R+ABAADeI/AAAADvEXgAAID3CDwAAMB7BB4AAOA9Ag8AAPAegQcAAHiPwAMAALxH4AEAAN4j8AAAAO8ReAAAgPcIPAAAwHsEHgAA4D0CDwAA8B6BBwAAeI/AAwAAvEfgAQAA3iPwAAAA7xF4AACA9wg8AADAewQeAADgPQIPAADwHoEHAAB4j8ADAAC8R+ABAADeI/AAAADvEXgAAID3CDwAAMB7BB4AAOA9Ag8AAPAegQcAAHiPwAMAALxH4AEAAN4j8ACVqKCgwIoKiqyoEKhE5WNMYy08/gCkEHiADNPEU1JcYsXlE9HmLZtt9cYv7PO8Vfb3vM+BjNPY0hjTWCsuLHZjj/AD/BqBB8igeFHctmz90SYtfsn+OKmDnTj4BKs38Ag7fGA9oNJojGms3TDpf23ykkm2JX+LG4vh8QnkMgIPkCGJooQtXbvY2o6+2GIPxyzWvVyvcn2qldsPqETVdo01jbnysfeHFy6xZeuWloeexK/GKZCrCDxABpQUldjMVTOs8Z8bWaxnzGr3r23tJ7ezCUvG2UfrF9iivIW2cMPfgIzT2NIYm7BkrLV/+X+sVv9abgw2GdTY5nw+y43N8HgFchGBB4hIm0ZX5/3dmg0+2WI9Ytb06aY2b91co6iqqLlrZttxg5u4sdh8yO/sy42r3abm8LgFcg2BB4goXhi3zlNuchPMsU82ss82LQ/PQRS1T2v5t8us4RMNXaen69QuboyGxy2Qawg8QAT6Vsz/r1tmhw44zGK9qtnEZePDcw9FVUmNXzLG7eupO6Cufbp+uRur4fEL5BICDxBBWXGZDf9gmPub9ClDm1tRSWF43qGoKqnCkgJrNqSZG5t/WTDSSsvHanj8ArmEwANEkCiK2/+9+SeLPRizDlM6hOcciqrSavdKOzc273zrDvctwvD4BXIJgQeIoLigyDpOvsFNKre9+6fwfENRVVpd3+7mxuZNUzqxpIWcR+ABIiDwUNlc3dIDTwGBB7mNwANEQOChsrkIPEAKgQeIgMBDZXMReIAUAg8QAYGHyuYi8AApBB4gAgIPlc1F4AFSCDxABAQeKpuLwAOkEHiACAg8VDYXgQdIIfAAERB4qGwuAg+QQuABIiDwUNlcBB4ghcADREDgobK5CDxACoEHiCAbAs/mzZvtq6++sl9++SV8V1bWDz/8YF988YX9/PPP4bu8K13j6tWr3TVXRRF4gBQCDxBBNgSeHj16WNOmTS0ej4fv2mO9/fbbNnr06H0WkN544w0bM2ZM8vUeffRRa9asWYXP97+5dI0nnniiPfjgg+G79kkReIAUAg8QQTYEnvfff98GDBhgZWVl4bv2WDfeeKO1aNEifHOlVYcOHeycc85J/v8jjzxixx57rJWWlqY9ys/asWOHDRo0yN59993wXfukCDxACoEHiCCTgaegoMDmz59v33//vS1YsMBGjRpl06dPd7cHtXbtWlu8eLELC++8847NmTPHvv32W1u+fLm7Pzi2uLjY3Tdy5EibPXu2W1pRh0X3XXbZZa7Douf+8ccfk8+9p9I16py0JPPBBx+4c5oxY4YVFha6+7ds2eKeX6+bXlpi0+vPmzfPLrnkEjv11FNt5syZ7lr69u3rOlLr16+3yZMnu3NctGjRbserVqxYYRMmTLBJkya5JbCgdu7caR9//LFt2rTJvc7YsWPtxRdfdP+/t0okEu488vLydrtdz6/rDJbZvvvuO3vttdfsueees4ULFyYft23bNvc+lJSUuNsnTpzobteyoq5lxIgR9t5771lRUZG7Xc+nzyb99RSCPvzwQ/de6jNMX+5K//zmzp1rzz77rM2aNctd839SBB4ghcADRJDJwLNkyRKrU6eO674ceuihdswxx9gBBxxgLVu2tDVr1rjHqDty2mmn2bXXXmuxWMxuueUW69evn5100kku0Lz88st22GGHuVDToEEDa9SokVWvXt169uzpJlo9V82aNd1tdevW3Wvn4ZNPPnHnEj6n8847z77++mtbt26dez4tqwWlyfnCCy+0Nm3a2Omnn+7ur1GjhtWrV89N9AMHDnTXefLJJ7tzPPLII91zjhs3zh2vkNCrVy878MADrX79+u7+gw46yJ5++ml3v5aJdL0XX3yxHXfccS486bGnnHKKffPNN8nz2FMpsDRs2NA6deqUvE3ne/7559sVV1zh/l9B7fjjj7ejjjrKnZ/O/6mnnnL3KYTo9ltvvdX2339/a9y4sbumE044wV2f/tTtej6FSQVThcvg/VEo0+voenUeek91jMKWSqHp8MMPt0svvdRduzph+qzuu+++/2gJksADpBB4gAgyHXg0uWmSU/dAXRT97V7B5JprrnGPUbhR0NG+kNdff911WB566CE36QeBR/dffvnltnHjRtdp6NKliwsMeqzO+frrr7dWrVq5bsLelsEUeKpVq+aCxdKlS905aQlNE3W7du3cYxS+dD7qeqjUmdF1qPOi12vfvr0LSOpkKHT179/fneNdd93lAohuVzhSGFNNnTrV3X///fdbfn6+O08tw+m2jz76yH766ScXEmrXrm3Tpk1z3RB1mfbbbz975plnkuf+W3Xbbbe5UBh0t9Td0bHq1uh8mzRpYtddd10ysPTu3dsFNl2/Okt6rI5XAFPo69atm3uPFEoVnrRHSiHplVdecZ9J+h4evbaOnzJlinsvP/vsMxeI9Bh9Vq+++mry89uwYUPy8zv44INdF+nfLQIPkELgASKojMAzZMiQ3W5/+OGHXddAr6cNv5oQtVQUlLo36khoctXyjybf9CUiBSMdr+UwlSbQ1q1bV6hjoAle56Rlp/TSBK6uiiZkLeHonBQ6VI8//rjryijMqBRWLrjgguSxffr0cYFAASyoBx54wI444ggXMBSk1DlJ39SsUHTIIYe4EKRQoc6VriMoBSmFvu7duydv+63SkpHOV6FDpT026qro/X3rrbfc9Y4fP94FHC0f6r1WYFTXSQFQx2pZLih1rHTb7bff7h67detWF370fAqB6kapw6P/1jV27do1eazqzTffdMere6T/1melYBeUNn3r9VetWpV2VMWKwAOkEHiACDIZeDS5amILgkNQWubQhKhOhAKPuivp+3rCgUcTpro7QWkvipZQgmWxzp07u45LRfaFKPDonLRsk17aW6NOhSZhTeTqimgi13OeddZZu03qHTt2dEs8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"},528:function(s,t,a){s.exports=a.p+"assets/img/img_1.8523591e.png"},529:function(s,t,a){s.exports=a.p+"assets/img/img_2.4b8eda60.png"},647:function(s,t,a){"use strict";a.r(t);var n=a(35),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"docker-사용하기"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker-사용하기"}},[s._v("#")]),s._v(" Docker 사용하기")]),s._v(" "),n("p",[s._v("Taskflow API에서 Task Instance를 Docker Container로 실행할 수 있습니다.\n이는 가상 환경보다 더 높은 격리 수준으로, 환경적으로 더 높은 자유도를 가질 수 있습니다.")]),s._v(" "),n("h2",{attrs:{id:"사전-준비"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#사전-준비"}},[s._v("#")]),s._v(" 사전 준비")]),s._v(" "),n("h3",{attrs:{id:"airflow-docker-provider-설치"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#airflow-docker-provider-설치"}},[s._v("#")]),s._v(" Airflow Docker Provider 설치")]),s._v(" "),n("p",[s._v("Taskflow API에서 docker를 사용하려면 다음처럼 docker provider를 설치해야합니다.")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ pip "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" apache-airflow-providers-docker\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"docker-실행"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker-실행"}},[s._v("#")]),s._v(" Docker 실행")]),s._v(" "),n("p",[s._v("또한 docker engine(desktop)이 실행되어 있어야 합니다.")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" --version\nDocker version "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.10")]),s._v(".5, build 55c4c88\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h2",{attrs:{id:"graph-view"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#graph-view"}},[s._v("#")]),s._v(" Graph View")]),s._v(" "),n("p",[s._v("다음과 같이 간단한 Task를 하나 실행하는 DAG을 작성할 것입니다.")]),s._v(" "),n("p",[n("img",{attrs:{src:a(527),alt:"img.png"}})]),s._v(" "),n("h2",{attrs:{id:"code"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#code"}},[s._v("#")]),s._v(" Code")]),s._v(" "),n("div",{staticClass:"language-py line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v(" ")]),n("div",{staticClass:"highlighted"},[s._v(" ")]),n("div",{staticClass:"highlighted"},[s._v(" ")]),n("div",{staticClass:"highlighted"},[s._v(" ")]),n("div",{staticClass:"highlighted"},[s._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-py"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" datetime "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" datetime\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" airflow"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("decorators "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" dag"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" task\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" pendulum"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tz"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("timezone "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Timezone\n\n\n"),n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@dag")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    dag_id"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"05_docker"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    description"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Taskflow API의 docker를 활용하는 DAG 예제입니다."')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    default_args"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"owner"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"heumsi"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"retries"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    start_date"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("datetime"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" tzinfo"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Timezone"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Asia/Seoul"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    schedule_interval"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@once"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    tags"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"examples"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"06_taskflow_api"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@task"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("docker")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("image"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"python:3.9-slim-buster"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("print_python_version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" sys\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Current version of Python is "')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" sys"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("version"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    print_python_version"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\ndag "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" main"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("ul",[n("li",[n("code",[s._v("@task.docker")]),s._v(" 로 해당 Task Instance를 docker container로 실행합니다.\n"),n("ul",[n("li",[n("code",[s._v("image")]),s._v(" 파라미터에 실행 기반이 되는 image를 넘깁니다.")])])])]),s._v(" "),n("h2",{attrs:{id:"web-ui-logs"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#web-ui-logs"}},[s._v("#")]),s._v(" Web UI & Logs")]),s._v(" "),n("p",[s._v("DAG을 실행하면 다음과 같은 화면을 얻습니다.")]),s._v(" "),n("p",[n("img",{attrs:{src:a(528),alt:"img_1.png"}})]),s._v(" "),n("p",[s._v("Task Instance의 로그를 살펴보면 다음과 같습니다.")]),s._v(" "),n("h3",{attrs:{id:"print-python-version"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#print-python-version"}},[s._v("#")]),s._v(" "),n("code",[s._v("print_python_version")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(529),alt:"img_2.png"}})]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('[2022-01-31, 16:21:26 UTC] {docker.py:379} INFO - Pulling docker image python:3.9-slim-buster\n[2022-01-31, 16:21:42 UTC] {docker.py:393} INFO - 3.9-slim-buster: Pulling from library/python\n[2022-01-31, 16:21:43 UTC] {docker.py:393} INFO - 6552179c3509: Pulling fs layer\n[2022-01-31, 16:21:43 UTC] {docker.py:393} INFO - c4887dad22fd: Pulling fs layer\n[2022-01-31, 16:21:43 UTC] {docker.py:393} INFO - 3c2b309db2de: Pulling fs layer\n[2022-01-31, 16:21:43 UTC] {docker.py:393} INFO - 3b84635b4bc7: Pulling fs layer\n[2022-01-31, 16:21:43 UTC] {docker.py:393} INFO - 1a4f31df0540: Pulling fs layer\n[2022-01-31, 16:21:43 UTC] {docker.py:393} INFO - 1a4f31df0540: Waiting\n[2022-01-31, 16:21:43 UTC] {docker.py:393} INFO - 3b84635b4bc7: Waiting\n[2022-01-31, 16:21:44 UTC] {docker.py:393} INFO - 3c2b309db2de: Downloading\n[2022-01-31, 16:21:44 UTC] {docker.py:393} INFO - c4887dad22fd: Downloading\n[2022-01-31, 16:21:45 UTC] {docker.py:393} INFO - 6552179c3509: Downloading\n[2022-01-31, 16:21:46 UTC] {docker.py:393} INFO - c4887dad22fd: Verifying Checksum\n[2022-01-31, 16:21:46 UTC] {docker.py:393} INFO - c4887dad22fd: Download complete\n[2022-01-31, 16:21:48 UTC] {docker.py:393} INFO - 3b84635b4bc7: Downloading\n[2022-01-31, 16:21:48 UTC] {docker.py:393} INFO - 3b84635b4bc7: Verifying Checksum\n[2022-01-31, 16:21:48 UTC] {docker.py:393} INFO - 3b84635b4bc7: Download complete\n[2022-01-31, 16:21:49 UTC] {docker.py:393} INFO - 1a4f31df0540: Downloading\n[2022-01-31, 16:21:50 UTC] {docker.py:393} INFO - 1a4f31df0540: Verifying Checksum\n[2022-01-31, 16:21:50 UTC] {docker.py:393} INFO - 1a4f31df0540: Download complete\n[2022-01-31, 16:21:53 UTC] {docker.py:393} INFO - 3c2b309db2de: Verifying Checksum\n[2022-01-31, 16:21:53 UTC] {docker.py:393} INFO - 3c2b309db2de: Download complete\n[2022-01-31, 16:21:59 UTC] {docker.py:393} INFO - 6552179c3509: Verifying Checksum\n[2022-01-31, 16:21:59 UTC] {docker.py:393} INFO - 6552179c3509: Download complete\n[2022-01-31, 16:22:00 UTC] {docker.py:393} INFO - 6552179c3509: Extracting\n[2022-01-31, 16:22:02 UTC] {docker.py:393} INFO - 6552179c3509: Pull complete\n[2022-01-31, 16:22:02 UTC] {docker.py:393} INFO - c4887dad22fd: Extracting\n[2022-01-31, 16:22:03 UTC] {docker.py:393} INFO - c4887dad22fd: Pull complete\n[2022-01-31, 16:22:03 UTC] {docker.py:393} INFO - 3c2b309db2de: Extracting\n[2022-01-31, 16:22:04 UTC] {docker.py:393} INFO - 3c2b309db2de: Pull complete\n[2022-01-31, 16:22:04 UTC] {docker.py:393} INFO - 3b84635b4bc7: Extracting\n[2022-01-31, 16:22:04 UTC] {docker.py:393} INFO - 3b84635b4bc7: Pull complete\n[2022-01-31, 16:22:04 UTC] {docker.py:393} INFO - 1a4f31df0540: Extracting\n[2022-01-31, 16:22:04 UTC] {docker.py:393} INFO - 1a4f31df0540: Pull complete\n[2022-01-31, 16:22:04 UTC] {docker.py:388} INFO - Digest: sha256:afe90d79244b2331300c959c739655329f16a9c0656ed7b91a44c6555e13c14f\n[2022-01-31, 16:22:04 UTC] {docker.py:388} INFO - Status: Downloaded newer image for python:3.9-slim-buster\n[2022-01-31, 16:22:04 UTC] {docker.py:261} INFO - Starting docker container from image python:3.9-slim-buster\n[2022-01-31, 16:22:06 UTC] {docker.py:325} INFO - + python -c \'import base64, os;x = base64.b64decode(os.environ["__PYTHON_SCRIPT"]);f = open("/tmp/script.py", "wb"); f.write(x);\'\n[2022-01-31, 16:22:06 UTC] {docker.py:325} INFO - + python -c \'import base64, os;x = base64.b64decode(os.environ["__PYTHON_INPUT"]);f = open("/tmp/script.in", "wb"); f.write(x);\'\n[2022-01-31, 16:22:06 UTC] {docker.py:325} INFO - + python /tmp/script.py /tmp/script.in /tmp/script.out\n[2022-01-31, 16:22:06 UTC] {docker.py:325} INFO - Current version of Python is  3.9.10 (main, Jan 29 2022, 04:38:19)\n[GCC 8.3.0]\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);